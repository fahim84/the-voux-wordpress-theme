jQuery(document).ready(function(e){function a(t){e.ajax({method:"POST",url:ocdi.ajax_url,data:t,contentType:!1,processData:!1}).done(function(e){if(void 0!==e.status&&"newAJAX"===e.status)a(t);else if(void 0!==e.status&&"afterAllImportAJAX"===e.status){var o=new FormData;o.append("action","ocdi_after_import_data"),o.append("security",ocdi.ajax_nonce),a(o)}else location.reload()})}e(".thb-register:not(.disabled)").on("click",function(a){var t=e(this),o=e("#thb_product_key").val();return e.ajax({method:"GET",url:t.data("verify"),data:{product_key:o,domain:t.data("domain")},beforeSend:function(){t.addClass("disabled")},error:function(a){if(t.removeClass("disabled"),a){var o=e.parseJSON(a.responseText);o.error_message&&e("#thb_error_messages").html("<p>"+o.error_message+"</p>")}},success:function(a){e.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:o,expired:0},success:function(){location.reload()}})}}),!1}),e(".thb-delete-key").on("click",function(a){e(this);return e.ajax(ajaxurl,{method:"POST",data:{action:"thb_update_options",key:"",expired:0},success:function(){location.reload()}}),!1});var t=new FormData;t.append("action","ocdi_import_demo_data"),t.append("security",ocdi.ajax_nonce),e(".thb-load-demo:not(.disabled)").on("click",function(o){var d=e(this),n=d.parents(".theme"),i=d.data("demo");n.addClass("loading"),e(".thb-load-demo").addClass("disabled").attr("disabled","disabled").unbind("click"),t.append("selected",i),a(t),o.preventDefault()}),ThbImage={uploader:function(a,t,o){var d=wp.media({title:ThbImageWidget.frame_title,multiple:!1,library:{type:"image"},button:{text:ThbImageWidget.button_title}});return d.on("close",function(){var a=d.state().get("selection").toJSON();e("#"+t).val(a[0].url),e("#"+o).val(a[0].alt)}),d.open(),!1}}});